<div class="full-screen-container">
  <div class="selected-skill-wrapper">

    <!-- SECTION 1 : HERO -->
    <section
      id="first-section"
      class="first-section"
      #firstSection
      [ngStyle]="{
        'background-image': 'url(' + backgroundImageUrl + ')',
        'background-size': 'cover',
        'background-position': 'center',
        'transition': 'background-image 1s ease-in-out'
      }"
    >

      <div class="container mb-5">
        <div class="row justify-content-center">
          <div class="col-auto d-flex flex-column align-items-center">
            <div class="hero-section d-flex flex-column align-items-center px-3">
              <!-- Titre principal -->
              <h1 [innerHTML]="selectedSkill?.title" #mainTitle></h1>

              <!-- Sous-titre (optionnel) -->
              <div class="row slogan my-5 w-150">
                <div class="col text-center mb-5 px-4">
                  <!-- <h3 [innerHTML]="selectedSkill?.title_selected" #subtitle></h3> -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 2 : 4 blocs (columns) -->
    <section id="second-section" class="second-section" #secondSection>
      <div class="container">
        <div class="row text-start align-items-start">
          <!-- Bloc 0 -->
          <div class="col-md-6 col-12 py-4">
            <ng-container *ngIf="selectedSkill?.columns?.[0] as col0">
              <div class="text-container mb-5 position-relative" #skillColumn>
                <div class="line my-3"></div>

                <!-- Icone si col0.icon existe -->
                <div class="icon-wrapper" *ngIf="col0.icon">
                  <img [src]="col0.icon" alt="icon" class="skill-icon" />
                </div>

                <h5
                  class="my-2 skill-description px-2 py-1"
                  [innerHTML]="col0.title || ''"
                ></h5>
                <div
                  class="skill-description px-2"
                  [innerHTML]="col0.subtitle || ''"
                ></div>
              </div>
            </ng-container>
          </div>

          <!-- Bloc 1 -->
          <div class="col-md-6 col-12 py-4">
            <ng-container *ngIf="selectedSkill?.columns?.[1] as col1">
              <div class="text-container mb-5 position-relative" #skillColumn>
                <div class="line my-3"></div>

                <div class="icon-wrapper" *ngIf="col1.icon">
                  <img [src]="col1.icon" alt="icon" class="skill-icon" />
                </div>

                <h5
                  class="my-2 skill-description px-2 py-1"
                  [innerHTML]="col1.title || ''"
                ></h5>
                <div
                  class="skill-description px-2"
                  [innerHTML]="col1.subtitle || ''"
                ></div>
              </div>
            </ng-container>
          </div>
        </div>

        <div class="row text-start align-items-start">
          <!-- Bloc 2 -->
          <div class="col-md-6 col-12 py-4">
            <ng-container *ngIf="selectedSkill?.columns?.[2] as col2">
              <div class="text-container mb-5 position-relative" #skillColumn>
                <div class="line my-3"></div>

                <div class="icon-wrapper" *ngIf="col2.icon">
                  <img [src]="col2.icon" alt="icon" class="skill-icon" />
                </div>

                <h5
                  class="my-2 skill-description px-2 py-1"
                  [innerHTML]="col2.title || ''"
                ></h5>
                <div
                  class="skill-description px-2"
                  [innerHTML]="col2.subtitle || ''"
                ></div>
              </div>
            </ng-container>
          </div>

          <!-- Bloc 3 -->
          <div class="col-md-6 col-12 py-4">
            <ng-container *ngIf="selectedSkill?.columns?.[3] as col3">
              <div class="text-container mb-5 position-relative" #skillColumn>
                <div class="line my-3"></div>

                <div class="icon-wrapper" *ngIf="col3.icon">
                  <img [src]="col3.icon" alt="icon" class="skill-icon" />
                </div>

                <h5
                  class="my-2 skill-description px-2 py-1"
                  [innerHTML]="col3.title || ''"
                ></h5>
                <div
                  class="skill-description px-2"
                  [innerHTML]="col3.subtitle || ''"
                ></div>
              </div>
            </ng-container>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 3 : AVOCAT -->
    <section
      id="third-section"
      class="third-section"
      *ngIf="displayedLawyer"
      #thirdSection
    >
      <div class="container-fluid px-0">
        <div class="row no-gutters" #lawyerContainer>
          <div
            class="col-md-6 third-section-left d-flex flex-column align-items-center justify-content-center"
            #lawyerText
          >
            <p class="intro-text">Un(e) de nos associés à votre écoute</p>
            <p class="lawyer-name">{{ displayedLawyer.name }}</p>
            <a
              class="mail-link"
              [href]="'mailto:' + (displayedLawyer.email || 'contact@cabinet.com')"
            >
              <img src="assets/icons/email-white.webp" alt="Email" />
              <span class="mx-2">
                {{ displayedLawyer.email || 'contact@cabinet.com' }}
              </span>
            </a>
          </div>

          <div
            class="col-md-6 third-section-right d-flex align-items-center justify-content-center"
            #lawyerPhoto
          >
            <img
              class="lawyer-photo"
              [src]="displayedLawyer.photo"
              [alt]="displayedLawyer.name"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 4 : AUTRES COMPÉTENCES -->
    <section
      id="fourth-section"
      class="fourth-section"
      *ngIf="filteredSkills.length > 0"
      #fourthSection
    >
      <div class="d-flex flex-column align-items-start">
        <h3 class="">CB2P Avocats vous propose d’autres services :</h3>

        <div class="skills-list p-5" #otherSkillsContainer>
          <div
            *ngFor="let skill of filteredSkills"
            class="skill-box"
            (click)="navigateToSkill(skill.slug)"
          >
            <div class="icon-wrapper" *ngIf="skill.icon">
              <img [src]="skill.icon" alt="icon" class="skill-icon pt-3" />
            </div>
            <span>{{ skill.title }}</span>
          </div>
        </div>
      </div>
    </section>

  </div>
</div>
